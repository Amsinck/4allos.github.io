"""
Descrição do módulo
"""
# ========================================== # ğŸ“‚ Caminho: C:\4All_OS\MindTrace\mind_trace.py # ğŸ“„ Nome: mind_trace.py # ==========================================  """ ğŸ” MIND TRACE - MÃ³dulo de Registro e Resumo de Conversas com IA ğŸ“¦ Parte integrante do sistema operacional 4All_OS ğŸ§  Desenvolvido para oferecer arquivamento automÃ¡tico, anÃ¡lise e resumo de conversas. ğŸ“¡ Funciona online (via API OpenAI) e offline (modo local sem IA).  ğŸ“˜ Requisitos: - Python 3.10+ - requests """  import os import datetime import uuid import requests  # ğŸ“Œ DiretÃ³rio base para logs LOG_DIR = os.path.join("C:\\", "4All_OS", "MindTrace", "logs") os.makedirs(LOG_DIR, exist_ok=True)  # ğŸ”’ Chave da API OpenAI - definir via variÃ¡vel de ambiente por seguranÃ§a API_KEY = os.getenv("OPENAI_API_KEY")  # ğŸ“ Caminho completo do arquivo de log de hoje def log_file_path:`r`n    """`r`n    Descrição da função log_file_path`r`n    """():`r`n    """Descrição da função."""     today = datetime.datetime.now().strftime("%Y-%m-%d")     return os.path.join(LOG_DIR, f"chatlog_{today}.txt")  # âœ… Salvar entrada no log local def save_to_log:`r`n    """`r`n    Descrição da função save_to_log`r`n    """(message: str):`r`n    """Descrição da função."""     with open(log_file_path(), "a", encoding="utf-8") as file:         file.write(message.strip() + "\n")  # ğŸ§  Enviar para OpenAI e retornar resumo def generate_summary:`r`n    """`r`n    Descrição da função generate_summary`r`n    """(text: str) -> str:     if not API_KEY:         return "âš ï¸ Modo offline: sem chave API."          url = "https://api.openai.com/v1/chat/completions"     headers = {         "Authorization": f"Bearer {API_KEY}",         "Content-Type": "application/json"     }     body = {         "model": "gpt-3.5-turbo",         "messages": [             {"role": "system", "content": "Resuma o seguinte diÃ¡logo de forma clara e concisa, como um registro profissional:"},             {"role": "user", "content": text}         ],         "temperature": 0.3     }      try:         response = requests.post(url, json=body, headers=headers)         response.raise_for_status()         return response.json()["choices"][0]["message"]["content"].strip()     except Exception as e:         return f"âŒ Erro ao gerar resumo: {str(e)}"  # ğŸ“‹ Carregar conversa do dia def load_today_conversation:`r`n    """`r`n    Descrição da função load_today_conversation`r`n    """():`r`n    """Descrição da função."""     try:         with open(log_file_path(), "r", encoding="utf-8") as file:             return file.read()     except FileNotFoundError:         return "âš ï¸ Nenhuma conversa registrada hoje."  # ğŸ’¾ Gerar resumo e salvar como arquivo separado def create_summary_file:`r`n    """`r`n    Descrição da função create_summary_file`r`n    """():`r`n    """Descrição da função."""     full_text = load_today_conversation()     summary = generate_summary(full_text)     summary_path = log_file_path().replace("chatlog_", "summary_")     with open(summary_path, "w", encoding="utf-8") as f:         f.write(summary)     return summary_path  # ğŸ§¹ Apagar arquivos do dia def delete_today_logs:`r`n    """`r`n    Descrição da função delete_today_logs`r`n    """():`r`n    """Descrição da função."""     try:         os.remove(log_file_path())     except:         pass     summary_file = log_file_path().replace("chatlog_", "summary_")     try:         os.remove(summary_file)     except:         pass  # 
